"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9997],{67840:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"examples/docker","title":"Application setup and dockerization","description":"The following guide explains how to create Docker images for your application for deployment in a Kubernetes cluster. You\'ll use \'ExampleApp\' as a reference. Before proceeding, make sure you have set up Docker Desktop on your machine.","source":"@site/docs/examples/docker.md","sourceDirName":"examples","slug":"/examples/docker","permalink":"/techwriter/docs/examples/docker","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1733162222000,"frontMatter":{"title":"Application setup and dockerization"}}');var i=r(74848),o=r(28453);const c={title:"Application setup and dockerization"},s=void 0,a={},l=[{value:"Create directory structure",id:"create-directory-structure",level:2},{value:"Create application file",id:"create-application-file",level:2},{value:"Set up Docker",id:"set-up-docker",level:2},{value:"Create Dockerfile",id:"create-dockerfile",level:3},{value:"Build Docker image",id:"build-docker-image",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The following guide explains how to create Docker images for your application for deployment in a Kubernetes cluster. You'll use 'ExampleApp' as a reference. Before proceeding, make sure you have set up ",(0,i.jsx)(n.a,{href:"https://docs.docker.com/desktop/",children:"Docker Desktop"})," on your machine."]}),"\n",(0,i.jsx)(n.h2,{id:"create-directory-structure",children:"Create directory structure"}),"\n",(0,i.jsx)(n.p,{children:"To create the directories and set the structure for the project, in your project's root directory, run the following commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p quickstart_docker/application\nmkdir -p quickstart_docker/docker/application\n"})}),"\n",(0,i.jsx)(n.p,{children:"As a result, you get the following directory structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"quickstart_docker                # Root project directory\n\u251c\u2500\u2500 application                  # Code for the application goes here\n\u2514\u2500\u2500 docker                       # Directory for Docker-related files\n    \u2514\u2500\u2500 application              # Dockerfile for the application goes here\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"A structured directory helps you organize files most effectively. But you can also place everything directly under the root directory."})}),"\n",(0,i.jsx)(n.h2,{id:"create-application-file",children:"Create application file"}),"\n",(0,i.jsx)(n.p,{children:"To create the example application, do the following:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to the ",(0,i.jsx)(n.code,{children:"quickstart_docker/application"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd quickstart_docker/application\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run the following command to create the ",(0,i.jsx)(n.code,{children:"application.py"})," file"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vi application.py\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Paste the content in the file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import http.server\nimport socketserver\n\nPORT = 8800\n\nHandler = http.server.SimpleHTTPRequestHandler\n\nhttpd = socketserver.TCPServer(("", PORT), Handler)\n\nprint("serving at port", PORT)\nhttpd.serve_forever()\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"The provided code sets up a basic HTTP server that serves files from the current directory on port 8800."})}),"\n",(0,i.jsxs)(n.p,{children:["You can check that the file is created correctly by running the command ",(0,i.jsx)(n.code,{children:"cat application.py"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"set-up-docker",children:"Set up Docker"}),"\n",(0,i.jsx)(n.p,{children:"You need Docker to run your application in a container. Since the application requires Python, an OS, and its dependencies, you can use a base image from Docker Hub."}),"\n",(0,i.jsx)(n.h3,{id:"create-dockerfile",children:"Create Dockerfile"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"Dockerfile"})," is a text document containing instructions used by Docker to automate building a new container image."]}),"\n",(0,i.jsx)(n.p,{children:"To create a Dockerfile, do the following:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"quickstart_docker/docker/application"})," directory, create a file named ",(0,i.jsx)(n.strong,{children:"Dockerfile"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vi Dockerfile\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Paste the following content inside ",(0,i.jsx)(n.strong,{children:"Dockerfile"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",children:"# Use base image from the registry\nFROM python:3.5\n\n# Set the working directory to /app\nWORKDIR /app\n\n# Copy the 'application' directory contents into the container at /app\nCOPY ./application /app\n\n# Make port 8800 available to the world outside this container\nEXPOSE 8800\n\n# Execute 'python /app/application.py' when container launches\nCMD [\"python\", \"/app/application.py\"]\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"build-docker-image",children:"Build Docker image"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"Docker image"})," is a lightweight, stand-alone, executable software package that includes everything needed to run your application, including the code, runtime, system tools, system libraries, and settings."]}),"\n",(0,i.jsx)(n.p,{children:"To build the Docker image, do the following:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"quickstart_docker"})," directory, run the following command to build the Docker image:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker build . -f docker/application/Dockerfile -t exampleapp\n"})}),"\n",(0,i.jsx)(n.p,{children:"Here, the following arguments are used:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"."})," specifies the current directory as the build context."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-f docker/application/Dockerfile"})," specifies the Dockerfile's path."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-t exampleapp"}),' tags the built image with the name "exampleapp" to quickly identify it later.']}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": to learn more about Docker image building, refer to the ",(0,i.jsx)(n.a,{href:"https://docs.docker.com/engine/reference/builder/",children:"Docker documentation"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"To view the list of available Docker Images, run the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker images\n"})}),"\n",(0,i.jsx)(n.p,{children:"You should see an output similar to the following:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"REPOSITORY  TAG       IMAGE ID       CREATED            SIZE\nexampleapp  latest    83wse0edc28a   2 seconds ago      153MB\npython      3.5       05sob8636w3f   6 weeks ago        153MB\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Now, you can push the Docker image to a container registry and then deploy it to a ",(0,i.jsx)(n.a,{href:"link-to-the-instruction",children:"Kubernetes cluster"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>s});var t=r(96540);const i={},o=t.createContext(i);function c(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);